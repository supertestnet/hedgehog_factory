# Hedgehog factory
It's like [tornado factory](https://github.com/supertestnet/tornado_factory) but for hedgehog channels, and I added a coordinator

# How hedgehog factory improves on tornado factory

Hedgehog factory improves on tornado factory in three ways:

(1) it has real, usable channels now, not just a random utxo you get to withdraw (though the channels are currently receive-only)

(2) users can run the app separately now and coordinate over the internet to do the funding transaction (in Tornado Factory, all users are just different pubkeys generated by the same page, so it's really just one user with n pubkeys)

(3) I implemented a massive efficiency gain by delegating *one* person to do the funding transaction and having everyone else *pay him over lightning* as a kind of admission-fee to the pool. This makes it so that n channels are opened with a single transaction needing only one input and two outputs (the multisig and some change).

# Why these things matter

These improvements create three "mindblows."

(1) the cost of opening a channel is greatly reduced. Suppose a bitcoin transaction costs $10; if you have 10 people do a channel open with you, each person only needs to pay $1. So they saved 90% on fees. And there's no need to limit it to 10 people; I think it's perfectly feasible to make a channel factory with more than 50 people, offering fee savings of over 98%.

(2) anyone can now make money on their bitcoin. For example, if a btc transaction costs $10, simply offer more than 10 people the opportunity to open a channel in a pool where you are the delegate, and then charge each person a $1 admission fee. Everyone wins: you make money, and they each get a channel for $1 that would have costed them $10 otherwise.

(3) the lightning network in its current state has a significant privacy problem: opening and closing channels involves a transaction on the base layer, and snoops can sometimes correlate that information to guess how much money, in aggregate, you spent in that channel. But in a channel factory, your channel opening and closing transactions never show up on the blockchain unless you use the "sad path" to exit. So there's less data for snoops to correlate and make inferences about what you're doing.

So that's what I'm currently building in Hedgehog Factory: a tool where you can invite people to enter a pool where you perform the funding transaction and charge an "admission fee" to recoup your costs, hopefully make something extra, and provide privacy and cheap channel opens for your users.
